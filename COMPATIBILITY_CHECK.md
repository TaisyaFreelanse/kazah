# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ Backend + Frontend + Android

## –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ 1: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ ID –ø–∞–∫–µ—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–µ ID: `'history'`, `'more_questions'`
- Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á–∏—Å–ª–æ–≤—ã–µ ID –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: `1`, `2`, `3`, etc.

**–ì–¥–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç:**
- `lib/services/question_service.dart` - —Ö–∞—Ä–¥–∫–æ–¥ `['history', 'more_questions']`
- `lib/services/question_service.dart` - `_loadPackageQuestions()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–µ ID
- `lib/models/question.dart` - `packageId` –∫–∞–∫ String?

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Å–º–æ–∂–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –∫—É–ø–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã —Å –ø–∞–∫–µ—Ç–∞–º–∏ –∏–∑ API
- –í–æ–ø—Ä–æ—Å—ã –∏–∑ –ø–∞–∫–µ—Ç–æ–≤ –Ω–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ó–Ω–∞—á–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ –Ω–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–∏—Å–ª–æ–≤—ã–µ ID –∏–∑ API –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏
2. –û–±–Ω–æ–≤–∏—Ç—å `getPurchasedPackages()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è ID –∏–∑ API
3. –û–±–Ω–æ–≤–∏—Ç—å `_loadPackageQuestions()` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —á–∏—Å–ª–æ–≤—ã–º–∏ ID

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ 2: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –ø–∞–∫–µ—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ `assets/data/` –ª–æ–∫–∞–ª—å–Ω–æ
- Backend —Ö—Ä–∞–Ω–∏—Ç —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ `uploads/packages/`
- –ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–æ–º –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

**–ì–¥–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç:**
- `lib/services/question_service.dart` - `_loadPackageQuestions()` –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑ assets
- –§–∞–π–ª—ã –ø–∞–∫–µ—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ù–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏, –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø–∞–∫–µ—Ç–æ–≤ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–∞–∫–µ—Ç—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤–∏—Ç—å endpoint –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø–∞–∫–µ—Ç–æ–≤
2. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –ª–æ–∫–∞–ª—å–Ω–æ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Ñ–∞–π–ª–æ–≤

### üü° –ü—Ä–æ–±–ª–µ–º–∞ 3: –ú–∞–ø–ø–∏–Ω–≥ ID –ø–∞–∫–µ—Ç–æ–≤ –Ω–∞ —Ñ–∞–π–ª—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `_loadPackageQuestions()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç switch-case –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ ID –Ω–∞ —Ñ–∞–π–ª—ã
- –≠—Ç–æ –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ API –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- –ò–ª–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–∞–π–ª—ã —Å —Å–µ—Ä–≤–µ—Ä–∞

### üü° –ü—Ä–æ–±–ª–µ–º–∞ 4: Fallback –ø–∞–∫–µ—Ç—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `PackageService._getDefaultPackages()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥ ID
- –≠—Ç–æ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–º ID –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±—Ä–∞—Ç—å fallback –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ ID

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å API

### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤:**
   - Backend: `{ id, nameKZ, nameRU, iconColor, price, isActive, hasFiles }`
   - Android: `PackageInfo.fromJson()` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–∞—Ä—Å–∏—Ç —ç—Ç–∏ –ø–æ–ª—è
   - ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ

2. **–ü—É–±–ª–∏—á–Ω—ã–π API:**
   - Endpoint: `GET /api/public/packages`
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
   - ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ

3. **–¶–≤–µ—Ç–∞ –∑–Ω–∞—á–∫–æ–≤:**
   - Backend: HEX —Ñ–æ—Ä–º–∞—Ç `#RRGGBB`
   - Android: `_hexToColor()` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç
   - ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ

4. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:**
   - Frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã
   - Backend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω—ã —á–µ—Ä–µ–∑ middleware
   - ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å ID –ø–∞–∫–µ—Ç–æ–≤

1. –û–±–Ω–æ–≤–∏—Ç—å `getPurchasedPackages()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è ID –∏–∑ API
2. –û–±–Ω–æ–≤–∏—Ç—å `_loadPackageQuestions()` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —á–∏—Å–ª–æ–≤—ã–º–∏ ID
3. –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤

1. –î–æ–±–∞–≤–∏—Ç—å endpoint `GET /api/public/packages/:id/files/:language`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
3. –û–±–Ω–æ–≤–∏—Ç—å `_loadPackageQuestions()` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –£–ª—É—á—à–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤
2. –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### Backend ‚úÖ
- API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü—É–±–ª–∏—á–Ω—ã–π API –¥–æ—Å—Ç—É–ø–µ–Ω

### Frontend ‚úÖ
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- API –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç

### Android ‚ö†Ô∏è
- API –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å ID –ø–∞–∫–µ—Ç–æ–≤
- ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–∞–π–ª–æ–≤

